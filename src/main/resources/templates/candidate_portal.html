<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Welcome to Smiles Jobs</title>
    <!-- Dodaj link do pliku CSS Bootstrapa -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css">
    <!-- Dodaj link do pliku CSS DataTables -->
    <link rel="stylesheet" href="https://cdn.datatables.net/1.11.5/css/jquery.dataTables.min.css">
</head>
<body>
<div class="container">
    <h1 class="mt-4">Welcome to Smiles Jobs</h1>

    <h2 class="mt-4">Job Offers</h2>
    <table class="table table-striped" id="job-offers-table">
        <thead class="table-dark">
        <tr>
            <th>Company Name</th>
            <th>Position</th>
            <th>Responsibilities</th>
            <th>Required Technologies</th>
            <th>Benefits</th>
<!--            <th>Salary Range</th>-->
            <th>Data i godzina</th>
            <th>Actions</th>
        </tr>
        </thead>
        <tbody>
        <!-- Poniżej dodaj pętlę Thymeleaf, aby wyświetlać oferty pracy -->
        <tr th:each="jobOffer : ${jobOffers}">
            <td th:text="${jobOffer.companyName}"></td>
            <td th:text="${jobOffer.position}"></td>
            <td th:text="${jobOffer.responsibilities}"></td>
            <td th:text="${jobOffer.requiredTechnologies}"></td>
            <td th:text="${jobOffer.benefits}"></td>
            <!-- Wyświetl połączoną wartość Salary Range -->
<!--            <td th:if="${jobOffer.salaryMin != null and jobOffer.salaryMax != null}" th:text="${jobOffer.salaryMin + ' - ' + jobOffer.salaryMax}"></td>-->
<!--            <td th:unless="${jobOffer.salaryMin != null and jobOffer.salaryMax != null}">N/A</td>-->
            <td th:text="${#temporals.format(jobOffer.jobOfferDateTime, 'yyyy-MM-dd HH:mm')}"></td>
            <td>
                <a class="btn btn-primary" th:href="@{'/send-cv/' + ${jobOffer.id}}">Send CV</a>
            </td>
        </tr>
        </tbody>
    </table>
    <form action="/searchJobOffers" method="get" class="mt-4">
        <div class="form-row">

            <div class="col-md-4">
                <label for="category">Search by category:</label>
                <select id="category" name="category" class="form-control">
                    <option value="companyName">Company Name</option>
                    <option value="position">Position</option>
                    <option value="responsibilities">Responsibilities</option>
                    <option value="requiredTechnologies">Required Technologies</option>
                    <option value="benefits">Benefits</option>
<!--                    <option value="salaryMin">Salary Min</option>-->
<!--                    <option value="salaryMax">Salary Max</option>-->
                    <!-- Dodaj więcej opcji kategorii według potrzeb -->
                </select>
            </div>
            <div class="col-md-4">
                <label for="keyword">Search by keywords:</label>
                <input type="text" id="keyword" name="keyword" class="form-control" placeholder="Enter a keyword">
            </div>
            <div class="col">
                <button type="submit" class="btn btn-primary">Search</button>
            </div>
        </div>
    </form>
    <h2 class="mt-4">Stwórz swoje ogłoszenie</h2>
    <div class="col-md-4">
        <a th:href="@{/create_advertisement}" method="GET" class="btn btn-info" role="button">Create Advertisement</a>
    </div>

    <h2 class="mt-4">Stwórz swoje CV</h2>
    <div class="col-md-4">
        <a th:href="@{/CvForm}" method="GET" class="btn btn-info" role="button">Create CVt</a>
    </div>

</div>
<br>
<br>
<br>
<h1>Notifications</h1>
<table>
    <thead>
    <tr>
        <th>Date</th>
        <th>Message</th>
        <th>Status</th>
    </tr>
    </thead>
    <tbody>
    <!-- Example data from the model -->
    <tr th:each="notification : ${notifications}">
        <td th:text="${#temporals.format(notification.date, 'yyyy-MM-dd HH:mm')}"></td>
        <td th:text="${notification.message}">New message</td>
        <td th:text="${notification.status}">Pending</td>
    </tr>
    </tbody>
</table>

<br>
<br>
<br>

<!-- Dodaj link do pliku JavaScript Bootstrapa (opcjonalnie) -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"></script>

<!-- Dodaj link do pliku JavaScript DataTables -->
<script src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js"></script>

<script>
    // Inicjalizuj DataTables dla tabeli ofert pracy
    $(document).ready(function() {
        $('#job-offers-table').DataTable();
    });
</script>
</body>
</html>
